1. You are given a number n, representing the size of array a.
2. You are given n numbers, representing the height of bars in a bar chart.
3. You are required to find and print the area of largest rectangle in the histogram.

e.g.
for the array [6 2 5 4 5 1 6] -> 12

#include <iostream>
#include <climits>
#include <vector>
#include <stack>
using namespace std;

vector<int> nextSmallerElementRight(vector<int> arr){
    vector<int> v(arr.size(),0);
    stack<int> st;

    v[arr.size()-1] = arr.size();
    st.push(arr.size()-1);
    for(int i=arr.size()-2;i>=0;i--){
        //-a+, key operation to solve this type of problems 
        //pop operation (-)
        while(!st.empty() && arr[i] <= arr[st.top()]){
            st.pop();
        }
        //answer operation (a)
        if(st.empty()){
            v[i] = arr.size();
        }else{
            v[i] = st.top();
        }
        //push operation (+)
        st.push(i);
    }
    return v;
}

vector<int> nextSmallerElementLeft(vector<int> arr){
    vector<int> v(arr.size(),0);
    stack<int> st;

    v[0] = -1;
    st.push(0);
    for(int i=1;i<arr.size();i++){
        //-a+
        //pop opeartion (-)
        while(!st.empty() && arr[i] <= arr[st.top()]){
            st.pop();
        }
        //answer operation (a)
        if(st.empty()){
            v[i] = -1;
        }else{
            v[i] = st.top();
        }
        //push operation (+)
        st.push(i);
    }
    return v;
}

int maxArea(vector<int> nsel, vector<int> nser, vector<int> arr){
    int ans = INT_MIN;
    int length, width;
    for(int i=0;i<arr.size();i++){
        length = arr[i];
        //cout<<arr[i]<<nser[i]<<nsel[i]<<endl;
        width = nser[i] - nsel[i] - 1;
        if(ans<length*width){
            ans = length*width;
        }
    }
    return ans; 
}

int main() {
    int n;
    cin>>n;

    vector<int> arr(n,0);
    for(int i=0;i<n;i++){
        cin>>arr[i];
    }
    vector<int> nser(n,0);
    nser = nextSmallerElementRight(arr);
    vector<int> nsel(n,0);
    nsel = nextSmallerElementLeft(arr);

    int ans = maxArea(nsel,nser,arr);
    cout<<ans;
    return 0;
}
